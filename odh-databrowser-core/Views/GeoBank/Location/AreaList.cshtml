@{
    ViewBag.Title = "AreaList";
}

@section jumbotronsect {
    <h2>Area List</h2>
}

@section infomodaltext {
    <h2>Area Data</h2>
    <p>
        Areas of South Tyrol. Custom Area Cluster used by LTS. Usable on Activities, Pois, ODHActivities and Pois. Only available in German. Do not use it if not needet for custom filtering. 
    </p>
}
<div class="col-sm-12" ng-app="common" ng-controller="commonListController" ng-init="init('Area',250)">
    <div class="splash" ng-show="isloading">
        <h2>
            Loading
        </h2>
        <span>
            <i class="fa fa-spinner fa-5x fa-spin active"></i>
        </span>
    </div>
    <div class="row">
        <div class="col-sm-12 form-inline">
            <div class="pull-left">
                <input type="text" class="form-control" id="filterName" placeholder="Filter" ng-model="query" autofocus><p>&nbsp; {{ meinecommons.length }} Areas</p>
            </div>
            <div class="pull-right">
                <div class="btn-group">
                    <label class="btn btn-default" ng-model="lang" btn-radio="'de'">de</label>
                    <label class="btn btn-default" ng-model="lang" btn-radio="'it'">it</label>
                    <label class="btn btn-default" ng-model="lang" btn-radio="'en'">en</label>
                    <label class="btn btn-default" ng-model="lang" btn-radio="'nl'">nl</label>
                    <label class="btn btn-default" ng-model="lang" btn-radio="'cs'">cs</label>
                    <label class="btn btn-default" ng-model="lang" btn-radio="'pl'">pl</label>
                    <label class="btn btn-default" ng-model="lang" btn-radio="'fr'">fr</label>
                    <label class="btn btn-default" ng-model="lang" btn-radio="'ru'">ru</label>
                </div>
            </div>
        </div>
    </div>
    @*<div class="row">
        <div class="col-sm-12 form-inline">
            <br />
            <a ng-click="editCommon('new')" class="btn btn-small btn-info">New</a>
            <br />
        </div>
    </div>*@
    <div class="row">
        <div class="col-sm-12 table-responsive">

            <table class="table table-striped table-condensed">
                <thead>
                    <tr>
                        @*<th style="min-width: 120px;">Bild</th>*@
                        <th style="min-width: 20%;">Id</th>
                        <th style="min-width: 20%;">Name</th>
                        <th style="min-width: 40%;">Type</th>
                        <th>Active</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="common in meinecommons = (commons | filter:query | orderBy : 'Shortname')">
                        @*<td>
                                <div align="left">
                                    <img class="img-thumbnail" style="max-height:150px;max-width:150px" ng-src="{{  common.ImageGallery[0] != NULL && common.ImageGallery[0].ImageUrl + '&W=150&H=150' || '../img/noimage.png' }}" title="{{ common.ImageGallery[0].ImageDesc['de']}}" ng-click="showInfoModal(common)" />
                                </div>
                            </td>*@
                        <td>{{ common.Id }}</td>
                        <td>{{ common.Shortname }}</td>
                        <td>{{ common.AreaType }}</td>
                        <td>
                            <div class="glyphicon glyphicon-ok" ng-show="common.Active"></div>
                            <div class="glyphicon glyphicon-remove" ng-show="common.Active == false"></div>
                            &nbsp;
                            <div class="glyphicon glyphicon-ok" ng-show="common.SmgActive"></div>
                            <div class="glyphicon glyphicon-remove" ng-show="common.SmgActive == false"></div>
                        </td>
                        <td align="right">
                            <div class="btn-group-vertical">
                                @if (@ViewBag.globalmodify == true || @ViewBag.commonmodify == true || @ViewBag.globaldetail == true)
                                {
                                    <a ng-click="editCommon(common)" class="btn btn-responsive btn-info">edit</a>
                                }
                                @if (@ViewBag.globaldelete == true || @ViewBag.commondelete == true)
                                {
                                    <a ng-click="deleteCommon(common.Id)" ng-disabled="true" class="btn btn-responsive btn-danger">delete</a>
                                }
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="pull-left">
                @if (@ViewBag.globalcreate == true || @ViewBag.commoncreate == true)
                {
                    <a ng-click="editCommon('new')" class="btn btn-small btn-info">New</a>
                }
            </div>
        </div>
    </div>


    <script type="text/ng-template" id="CommonInfoModal.html">
        <div class="modal-header">
            <button type="button" class="close" ng-click="cancelInfoModal()" aria-hidden="true">&times;</button>
            <h4 class="modal-title" id="myModalLabel">Details</h4>
        </div>
        <div class="modal-body">
            <div class="row">
                <div class="col-sm-6">
                    <div>
                        <carousel interval="myInterval">
                            <slide data-ng-repeat="slide in slides" active="slide.active">
                                <img data-ng-src="{{slide.ImageUrl + '&H=320'}}" style="margin:auto;max-width:420px" class="img-rounded">
                                <div class="carousel-caption">
                                    <h4>{{slide.ImageTitle[lang]}}</h4>
                                    <p>{{slide.ImageDesc[lang]}}</p>
                                </div>
                            </slide>
                        </carousel>
                    </div>
                </div>
                <div class="col-sm-6">

                    <div ng-controller="MapCtrl" style="width:420px;height:320px">
                        <div id="map" class="img-rounded"></div>
                        <div id="class" ng-repeat="marker in markers | orderBy : 'title'">
                        </div>
                    </div>
                </div>
            </div>

        </div>


        <div class="modal-footer">
            <button class="btn btn-info" ng-click="cancelInfoModal()">Cancel</button>
        </div>
    </script>

    <script type="text/ng-template" id="CommonCrudModal.html">
        <form name="commonform">
            <div class="modal-header">
                <button type="button" class="close" ng-click="cancelCrudModal()" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">Edit</h4>



            </div>
            <div class="modal-body">
                <div class="btn-group pull-right">
                    <label class="btn btn-default" ng-model="lang" btn-radio="'de'">de</label>
                    <label class="btn btn-default" ng-model="lang" btn-radio="'it'">it</label>
                    <label class="btn btn-default" ng-model="lang" btn-radio="'en'">en</label>
                    <label class="btn btn-default" ng-model="lang" btn-radio="'nl'">nl</label>
                    <label class="btn btn-default" ng-model="lang" btn-radio="'cs'">cs</label>
                    <label class="btn btn-default" ng-model="lang" btn-radio="'pl'">pl</label>
                    <label class="btn btn-default" ng-model="lang" btn-radio="'fr'">fr</label>
                    <label class="btn btn-default" ng-model="lang" btn-radio="'ru'">ru</label>
                </div>
                <tabset>
                    <tab heading="General">
                        <br />
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="form-horizontal">
                                    <div class="form-group">
                                        <label for="inputId" class="col-sm-4 control-label">Id</label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="inputId" placeholder="Id" ng-model="common.Id" ng-show="newcommon" required>
                                            <input type="text" class="form-control" id="inputId" placeholder="Id" ng-model="common.Id" ng-show="!newcommon" readonly>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="inputName" class="col-sm-4 control-label">Shortname</label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="inputName" placeholder="Shortname" ng-model="common.Shortname" required ng-minlength=3>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="inputCustomId" class="col-sm-4 control-label">CustomId</label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="inputCustomId" ng-model="common.CustomId" readonly>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="inputGID" class="col-sm-4 control-label">GID</label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="inputGID" ng-model="common.GID" readonly>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label for="inputAreatype" class="col-sm-4 control-label">AreaType</label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="inputAreatype" ng-model="common.AreaType" readonly>
                                        </div>
                                    </div>



                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-horizontal">
                                    <div class="form-group">
                                        <label for="inputRegionId" class="col-sm-4 control-label">RegionId</label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="inputRegionId" ng-model="common.RegionId" readonly>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="inputTourismvereinId" class="col-sm-4 control-label">TourismvereinId</label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="inputTourismvereinId" ng-model="common.TourismvereinId" readonly>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="inputMunicipalityId" class="col-sm-4 control-label">MunicipalityId</label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="inputMunicipalityId" ng-model="common.MunicipalityId" readonly>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="inputSkiAreaID" class="col-sm-4 control-label">SkiAreaID</label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="inputSkiAreaID" ng-model="common.SkiAreaID" readonly>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label for="inputName" class="col-sm-4 control-label">SmgActive</label>
                                        <div class="col-sm-8">
                                            <input type="checkbox" class="form-control" id="checkboxSmgActive" ng-model="common.SmgActive" readonly>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="inputName" class="col-sm-4 control-label">Active</label>
                                        <div class="col-sm-8">
                                            <input type="checkbox" class="form-control" id="checkboxActive" ng-model="common.Active" readonly>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </tab>

                </tabset>
            </div>

            <div class="modal-footer">
                <button class="btn btn-success" ng-click="addCrud(common,commonform.$valid)" ng-show="newcommon">Create</button>
                <button class="btn btn-warning" ng-click="updateCrud(common,commonform.$valid)" ng-show="!newcommon">Save</button>
                <button class="btn btn-info" ng-click="cancelCrudModal()">Cancel</button>
            </div>
        </form>
    </script>

</div>

@section Styles{
    <style type="text/css">
    </style>

}

@section Scripts {
    @*<script src='//maps.googleapis.com/maps/api/js?sensor=false'></script>*@
    @*<script src="~/NgScripts/appfactory.js"></script>*@
    <script src="~/NgScripts/appconfig.js"></script>
    <script src="~/NgScripts/CommonController.js?ver=20191119"></script>
    @*<script src="~/Scripts/angular-route.min.js"></script>
        <script src="~/Scripts/file-Upload/angular-file-upload.min.js"></script>*@
    <script src='http://cdnjs.cloudflare.com/ajax/libs/textAngular/1.2.2/textAngular-sanitize.min.js'></script>
    <script src='http://cdnjs.cloudflare.com/ajax/libs/textAngular/1.2.2/textAngular.min.js'></script>
}
