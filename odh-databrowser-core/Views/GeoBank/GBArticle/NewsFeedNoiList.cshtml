
@{
    ViewBag.Title = "ContentArticleList";
}
@section jumbotronsect {
    <h2>Newsfeed NOI List</h2>
}
@section infomodaltext {
    <h2>Open Data Hub Article</h2>
    <p>
        Data from NOI Redaction.
        Newsfeed for NOI Community App.
    </p>
}

@*
    Titolo
    Descrizione
    Data di inserimento (data nella quale la issue viene inserita)
    Data di comunicazione (data nella quale la issue deve essere comunicata alla community)
    Immagine (Opzionale)
    Link di approfondimento (Opzionale)
    Prioritá (bassa,media,alta)
*@



<div class="col-sm-12" ng-app="article" ng-controller="articleListController" ng-init="init('newsfeednoi','false')">

    <div class="splash" ng-show="isloading">
        <h2>
            Loading
        </h2>
        <span>
            <i class="fa fa-spinner fa-5x fa-spin active"></i>
        </span>
    </div>

    <div class="row">
        <div class="col-sm-12">
            <div class="form-inline">
                <div class="pull-left">

                </div>
                <div class="pull-right" ng-click="changeLanguage()">
                    <div class="btn-group">
                        <label class="btn btn-default" ng-model="lang" btn-radio="'de'">de</label>
                        <label class="btn btn-default" ng-model="lang" btn-radio="'it'">it</label>
                        <label class="btn btn-default" ng-model="lang" btn-radio="'en'">en</label>
                        <label class="btn btn-default" ng-model="lang" btn-radio="'nl'">nl</label>
                        <label class="btn btn-default" ng-model="lang" btn-radio="'cs'">cs</label>
                        <label class="btn btn-default" ng-model="lang" btn-radio="'pl'">pl</label>
                        <label class="btn btn-default" ng-model="lang" btn-radio="'fr'">fr</label>
                        <label class="btn btn-default" ng-model="lang" btn-radio="'ru'">ru</label>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12">
            <br />
            <div class="form-inline">
                <div class="pull-right">
                    <span class="btn btn-default"> Elements: {{ totalcount }} </span>
                    <input type="button" id="prevpage" ng-click="changePage(-1,true)" class="btn btn-info" value="prev" ng-disabled="page == 1" />
                    &nbsp;{{ page }}&nbsp;/&nbsp;{{ totalpages }}&nbsp;
                    <input type="button" id="nextpage" ng-click="changePage(+1,true)" class="btn btn-info" value="next" ng-disabled="page == totalpages || totalpages == 0" />
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <br />
        <div class="col-sm-3 col-xs-12 table-bordered filtertable">
            <div class="form-inline">
                <br />
                <div class="form-group col-sm-12">
                    <input type="button" id="filterbutton" ng-click="applyFilter(1)" class="btn btn-info" value="Filter" />
                    <input type="button" id="clearfilterbutton" ng-click="clearFilter()" class="btn btn-default" value="Clear" />
                </div>


                <div class="form-group col-sm-12" ng-controller="ArticleNameTypeAheadController">
                    <h6>Name</h6>
                    <typeaheadarticle items="items" templateurl="ArticleNameTemplate" prompt="Name" title="name" model="$parent.SelectedArticleName" idmodel="$parent.SelectedArticleId" on-select="onItemSelected()" />
                </div>

                <div class="form-group col-sm-12">
                    <h5>Date Filter</h5>
                    @*<input type="text" id="datefrom" class="form-control" placeholder="Von" style="width:100%" /><br />*@

                    <div class="input-group" ng-controller="DatepickerCtrl">
                        <input type="text" class="form-control" datepicker-popup="{{format}}" ng-model="$parent.Datumvon" is-open="opened" datepicker-options="dateOptions" ng-change="changeDate($parent.Datumvon)" @*min-date=" '2010-01-01' " max-date=" '2015-06-22' " datepicker-options=" dateoptions" date-disabled="disabled(date, mode)" *@ ng-required="true" close-text="Close" readonly />
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                        </span>
                    </div>

                    @*<input type="text" id="dateTo" class="form-control" placeholder="Bis" style="width:100%" />*@

                    <div class="input-group" ng-controller="DatepickerCtrl">
                        <input type="text" class="form-control" datepicker-popup="{{format}}" ng-model="$parent.Datumbis" is-open="opened" datepicker-options="dateOptions" @*min-date="'2010-01-01'" max-date="'2015-06-22'" datepicker-options="dateOptions" date-disabled="disabled(date, mode)"*@ ng-required="true" close-text="Close" readonly />
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                        </span>
                    </div>

                    <br /><br />
                </div>

                <div class="form-group col-sm-12" ng-controller="SmgTagNameTypeAheadController">
                    <h6>ODH Tag</h6>
                    <typeaheadarticle items="items" templateurl="ArticleNameTemplate" prompt="Name" title="name" model="$parent.SelectedSmgTagName" idmodel="$parent.SelectedSmgTagId" on-select="onItemSelected()" />
                </div>

                @*<div class="form-group col-sm-12">
                    <h6>SubType</h6>
                    <div class="btn-group-vertical">
                        <label class="btn btn-default" ng-model="checkSubTypeModel.one" btn-checkbox>Site Content</label>
                        <label class="btn btn-default" ng-model="checkSubTypeModel.two" btn-checkbox>B2B Site Content</label>
                        <label class="btn btn-default" ng-model="checkSubTypeModel.three" btn-checkbox>Press Site Content</label>
                    </div>
                </div>*@

                <div class="form-group col-sm-12">
                    <h6>Language Filter</h6>
                    <div class="btn-group">
                        <label class="btn btn-default" ng-model="checkLangListModel.de" btn-checkbox>de</label>
                        <label class="btn btn-default" ng-model="checkLangListModel.it" btn-checkbox>it</label>
                        <label class="btn btn-default" ng-model="checkLangListModel.en" btn-checkbox>en</label>
                        <label class="btn btn-default" ng-model="checkLangListModel.nl" btn-checkbox>nl</label>
                        <label class="btn btn-default" ng-model="checkLangListModel.cs" btn-checkbox>cs</label>
                        <label class="btn btn-default" ng-model="checkLangListModel.pl" btn-checkbox>pl</label>
                        <label class="btn btn-default" ng-model="checkLangListModel.fr" btn-checkbox>fr</label>
                        <label class="btn btn-default" ng-model="checkLangListModel.ru" btn-checkbox>ru</label>
                    </div>
                </div>

                @*<div class="form-group col-sm-12">
                    <h6>active on source</h6>
                    <select class="form-control" id="selectTyp" ng-model="active">
                        <option value="null">all</option>
                        <option value="true">active</option>
                        <option value="false">not active</option>
                    </select>
                </div>*@

                <div class="form-group col-sm-12">
                    <h6>active in ODH</h6>
                    <select class="form-control" id="selectTyp" ng-model="smgactive">
                        <option value="null">all</option>
                        <option value="true">active</option>
                        <option value="false">not active</option>
                    </select>
                </div>

                <div class="col-sm-12">
                    <br />
                    <br />
                </div>
            </div>

        </div>

        <div class="col-sm-9 col-xs-12 table-responsive">

            <div class="pull-left">
                @if (@ViewBag.globalcreate == true || @ViewBag.globalmodify == true || @ViewBag.eventshortcreate == true || @ViewBag.eventshortmodify == true || @ViewBag.globaldetail == true)
                {
                    <a ng-click="editarticle('new')" class="btn btn-small btn-success">New</a>
                }
                </div>
                <br />
            <table class="table table-striped table-condensed">
                <thead>
                    <tr style="width:100%">
                        <th style="width:160px">MainImage</th>
                        <th style="min-width: 100px;">Title</th>
                        <th style="min-width: 80px;">Date</th>
                        <th style="min-width: 80px;">Information</th>                                                                  
                        <th style="min-width: 80px;">active in ODH</th>
                        <th style="min-width:140px;"> </th>
                        <th style="min-width:120px;"> </th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="article in articles | filter:query">
                        <td>
                            <div style="max-width:150px;min-height:75px">
                                <img class="img-thumbnail img-responsive" @*style="max-height:150px;max-width:150px"*@ ng-src="{{  article.ImageGallery[0] != NULL && article.ImageGallery[0].ImageUrl + '&Width=150' || '../img/noimage.png' }}" @*ng-hide="article.ImageGallery[0] == NULL"*@ title="{{ article.ImageGallery[0].ImageDesc['de']}}" ng-click="showInfoModal(article)" />
                            </div>
                        </td>
                        
                        <td>{{ article.Detail[lang].Title }}</td>

                         <td>
                            <div ng-show="article.ArticleDate != null">{{ article.ArticleDate  | moment:'DD/MM/YYYY' }}</div> <div ng-show="article.ArticleDate == null">no date</div> - 
                            <div ng-show="article.ArticleDateTo != null">{{ article.ArticleDateTo  | moment:'DD/MM/YYYY' }}</div> <div ng-show="article.ArticleDateTo == null">no date</div>
                        </td>

                        <td>
                            {{ article.Type }}<br />
                            Language: <br />
                            <div ng-repeat="articlelang in article.HasLanguage">
                                {{ articlelang }}
                            </div>
                        </td>                                                                  
                        
                 
                       @* <td>
                            <div class="glyphicon glyphicon-ok" ng-show="article.Active"></div>
                            <div class="glyphicon glyphicon-remove" ng-show="article.Active == false"></div>
                        </td>*@
                        <td>
                            <div class="glyphicon glyphicon-ok" ng-show="article.SmgActive" style="color:green"></div>
                            <div class="glyphicon glyphicon-remove" ng-show="article.SmgActive == false" style="color:red"></div>
                        </td>
                         <td>                         
                            @if (@ViewBag.globalmodify == true || @ViewBag.articlemodify == true || @ViewBag.globaldetail == true)
                            {
                                //TODO Show only if push was not send
                                <a ng-click="sendtopushserver(article)" class="btn btn-responsive btn-primary" style="width:100px;">send push</a>
                            }
                        </td>
                        <td class="btn-group-vertical">
                            <a ng-click="showInfoModal(article)" class="btn btn-responsive btn-success" style="width:70px;">Detail</a>
            
                            @if (@ViewBag.globalmodify == true || @ViewBag.articlemodify == true || @ViewBag.globaldetail == true)
                            {
                                <a ng-click="editarticle(article)" class="btn btn-responsive btn-info" style="width:70px;">edit</a>
                            }
                            @if (@ViewBag.globaldelete == true || @ViewBag.articledelete == true)
                            {
                                <a ng-click="deletearticle(article.Id)" class="btn btn-responsive btn-danger" style="width:70px;">delete</a>
                            }            
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="form-inline">
                <div class="pull-left">
                    @if (@ViewBag.globalcreate == true || @ViewBag.articlecreate == true)
                    {
                        <a ng-click="editarticle('new')" class="btn btn-small btn-info">New</a>
                    }
                </div>
                <div class="pull-right">
                    <span class="btn btn-default"> Elements: {{ totalcount }} </span>
                    <input type="button" id="prevpage" ng-click="changePage(-1,true)" class="btn btn-info" value="prev" ng-disabled="page == 1" />
                    &nbsp;{{ page }}&nbsp;/&nbsp;{{ totalpages }}&nbsp;
                    <input type="button" id="nextpage" ng-click="changePage(+1,true)" class="btn btn-info" value="next" ng-disabled="page == totalpages || totalpages == 0" />
                </div>
            </div>
        </div>
    </div>
    <script type="text/ng-template" id="myArticleModal.html">
        <form name="articleform">
            <div class="modal-header">
                <button type="button" class="close" ng-click="cancel()" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">Article Details</h4>
            </div>
            <div class="modal-body">

                <div class="row">
                    <div class="col-sm-12">
                        <div class="btn-group pull-left">
                            <p>
                                Available Languages:
                                <label class="label label-default" ng-repeat="articlelang in article.HasLanguage">{{articlelang}}</label>
                            </p>
                        </div>

                        <div class="btn-group pull-right">
                            <label class="btn btn-default" ng-model="lang" btn-radio="'de'">de</label>
                            <label class="btn btn-default" ng-model="lang" btn-radio="'it'">it</label>
                            <label class="btn btn-default" ng-model="lang" btn-radio="'en'">en</label>
                            <label class="btn btn-default" ng-model="lang" btn-radio="'nl'">nl</label>
                            <label class="btn btn-default" ng-model="lang" btn-radio="'cs'">cs</label>
                            <label class="btn btn-default" ng-model="lang" btn-radio="'pl'">pl</label>
                            <label class="btn btn-default" ng-model="lang" btn-radio="'fr'">fr</label>
                            <label class="btn btn-default" ng-model="lang" btn-radio="'ru'">ru</label>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <tabset>
                            <tab heading="General">
                                <br />
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="form-horizontal">
                                            <div class="form-group">
                                                <label for="inputId" class="col-sm-2 control-label">Id</label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputId" placeholder="Id" ng-model="article.Id" readonly>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="inputTyp" class="col-sm-2 control-label">Type</label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputTyp" placeholder="Type" ng-model="article.Type" readonly>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="inputShortName" class="col-sm-2 control-label">Shortname</label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputShortName" placeholder="Shortname" ng-model="article.Shortname" readonly>
                                                </div>
                                            </div>      
                                            
                                            <div class="form-group">
                                                <label for="inputName" class="col-sm-2 control-label">Last Changed</label>
                                                <div class="col-sm-10">
                                                    @*<div class="form-control"><span ng-show="article.LastChange != null" readonly>{{ article.LastChange | moment:'DD-MM-YYYY HH:mm' }}</span></div>*@
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputLastChanged" placeholder="Last Change" ng-model="article.LastChange" readonly>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-sm-6">
                                        <div class="form-horizontal">
                                            
                                             <div class="form-group">
                                                <label for="inputSeasonStart" class="col-sm-2 control-label">News Publish Date</label>

                                                <div class="col-sm-10" ng-controller="DatepickerCtrl">
                                                    <div class="input-group">
                                                        <input type="text" class="form-control notextareamaxwitdth" datepicker-popup="{{format}}" ng-model="article.ArticleDate" is-open="opened" datepicker-options="dateOptions" close-text="Close" />
                                                        <span class="input-group-btn">
                                                            <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>

                                             <div class="form-group">
                                                <label for="inputSeasonStart" class="col-sm-2 control-label">News Publish Date To</label>

                                                <div class="col-sm-10" ng-controller="DatepickerCtrl">
                                                    <div class="input-group">
                                                        <input type="text" class="form-control notextareamaxwitdth" datepicker-popup="{{format}}" ng-model="article.ArticleDateTo" is-open="opened" datepicker-options="dateOptions" close-text="Close" />
                                                        <span class="input-group-btn">
                                                            <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>                                           

                                            @*<div class="form-group">
                                                <label for="inputActive" class="col-sm-2 control-label">active on source</label>
                                                <div class="col-sm-10">
                                                    <input type="checkbox" class="form-control" id="inputActive" placeholder="Id" ng-model="article.Active">
                                                </div>
                                            </div>*@

                                            <div class="form-group">
                                                <label for="inputSmgActive" class="col-sm-2 control-label">active in ODH</label>
                                                <div class="col-sm-10">
                                                    <input type="checkbox" class="form-control" id="inputSmgActive" placeholder="Id" ng-model="article.SmgActive">
                                                </div>
                                            </div>

                                            <br />
                                            <br />
                                            <br />
                                            <br />
                                            <br />
                                            <br />
                                            <br />
                                            <br />
                                            <br />
                                        </div>
                                    </div>

                                </div>
                            </tab>

                            <tab heading="Detail">
                                <br />
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="form-horizontal">

                                            <div class="form-group">
                                                <label for="inputTitle" class="col-sm-2 control-label">Title</label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputTitle" placeholder="Title" ng-model="article.Detail[lang].Title">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="inputHeader" class="col-sm-2 control-label">Header</label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputHeader" placeholder="Header" ng-model="article.Detail[lang].Header">
                                                </div>
                                            </div>

                                            @*<div class="form-group">
                                                <label for="inputSubHeader" class="col-sm-2 control-label">SubHeader</label>
                                                <div class="col-sm-10">
                                                    <textarea class="form-control notextareamaxwitdth" id="inputSubHeader" rows="2" placeholder="SubHeader" ng-model="article.Detail[lang].SubHeader"></textarea>
                                                </div>
                                            </div>*@ 

                                            <div class="form-group">
                                                <label for="inputMetaTitle" class="col-sm-2 control-label">Meta Title</label>
                                                <div class="col-sm-10">
                                                    <textarea class="form-control notextareamaxwitdth" id="inputMetaTitle" rows="2" placeholder="Meta Title" ng-model="article.Detail[lang].MetaTitle"></textarea>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="form-horizontal">

                                            <div class="form-group">
                                                <label for="inputAdditionalText" class="col-sm-2 control-label">AdditionalText</label>
                                                <div class="col-sm-10">
                                                    <textarea class="form-control notextareamaxwitdth" id="inputAdditionalText" placeholder="AdditionalText" rows="3" ng-model="article.Detail[lang].AdditionalText"></textarea>
                                                </div>
                                            </div>

                                           @* <div class="form-group">
                                                <label for="inputKeywords" class="col-sm-2 control-label">Keywords</label>
                                                <div class="col-sm-10">
                                                    <textarea class="form-control notextareamaxwitdth" id="inputKeywords" rows="3" placeholder="Keywords" ng-model="article.Detail[lang].Keywords"></textarea>
                                                </div>
                                            </div>*@

                                            <div class="form-group">
                                                <label for="inputAdditionalText" class="col-sm-2 control-label">Meta Description</label>
                                                <div class="col-sm-10">
                                                    <textarea class="form-control notextareamaxwitdth" id="inputAdditionalText" placeholder="Meta Description" rows="3" ng-model="article.Detail[lang].MetaDesc"></textarea>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                     @*<div class="col-sm-6">

                                       <div class="form-horizontal">
                                            <div class="form-group">
                                                <label for="inputBaseText" class="col-sm-2 control-label">Introtext</label>


                                                <div ng-controller="wysiwygeditorCtrl" class="col-sm-10">

                                                    <text-angular name="htmlcontentintro" ng-model="article.Detail[lang].IntroText">

                                                    </text-angular>


                                                </div>
                                            </div>
                                        </div>

                                    </div>*@

                                    <div class="col-sm-12">

                                        <div class="form-horizontal">
                                            <div class="form-group">
                                                <label for="inputBaseText" class="col-sm-1 control-label">Base Text</label>

                                                <div ng-controller="wysiwygeditorCtrl" class="col-sm-11">

                                                    <text-angular name="htmlcontentbase" ng-model="article.Detail[lang].BaseText">

                                                    </text-angular>

                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </tab>

                            <tab heading="Contact">
                                <br />
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="form-horizontal">

                                            <div class="form-group">
                                                <label for="inputCompanyName" class="col-sm-2 control-label">Company Name</label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputCompanyName" placeholder="CompanyName" ng-model="article.ContactInfos[lang].CompanyName">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="inputAddress" class="col-sm-2 control-label">Address</label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputAddress" placeholder="Address" ng-model="article.ContactInfos[lang].Address">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="inputCity" class="col-sm-2 control-label">City</label>
                                                <div class="col-sm-4">
                                                    <input type="text" class="form-control" id="inputZipCode" placeholder="ZipCode" ng-model="article.ContactInfos[lang].ZipCode">
                                                </div>
                                                <div class="col-sm-6">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputCity" placeholder="City" ng-model="article.ContactInfos[lang].City">

                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="inputCountryName" class="col-sm-2 control-label">Country</label>
                                                <div class="col-sm-4">
                                                    <input type="text" class="form-control" id="inputCountryCode" placeholder="CountryCode" ng-model="article.ContactInfos[lang].CountryCode">
                                                </div>
                                                <div class="col-sm-6">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputCountryName" placeholder="CountryName" ng-model="article.ContactInfos[lang].CountryName">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="inputGivenname" class="col-sm-2 control-label">Name</label>
                                                <div class="col-sm-2">
                                                    <input type="text" class="form-control" id="inputNamePrefix" placeholder="Prefix" ng-model="article.ContactInfos[lang].NamePrefix">
                                                </div>
                                                <div class="col-sm-4">
                                                    <input type="text" class="form-control" id="inputSurname" placeholder="Surname" ng-model="article.ContactInfos[lang].Surname">
                                                </div>
                                                <div class="col-sm-4">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputGivenname" placeholder="Givenname" ng-model="article.ContactInfos[lang].Givenname">
                                                </div>
                                            </div>

                                        </div>
                                    </div>

                                    <div class="col-sm-6">
                                        <div class="form-horizontal">

                                            <div class="form-group">
                                                <label for="inputEmail" class="col-sm-2 control-label">E-Mail</label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputEmail" placeholder="Email" ng-model="article.ContactInfos[lang].Email">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="inputPhonenumber" class="col-sm-2 control-label">Phonenumber</label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputPhonenumber" placeholder="Phonenumber" ng-model="article.ContactInfos[lang].Phonenumber">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="inputFaxnumber" class="col-sm-2 control-label">Faxnumber</label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputFaxnumber" placeholder="Faxnumber" ng-model="article.ContactInfos[lang].Faxnumber">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="inputUrl" class="col-sm-2 control-label">Url</label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputUrl" placeholder="Url" ng-model="article.ContactInfos[lang].Url">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="inputVat" class="col-sm-2 control-label">Vat / Tax</label>
                                                <div class="col-sm-5">
                                                    <input type="text" class="form-control" id="inputVat" placeholder="Vat" ng-model="article.ContactInfos[lang].Vat">
                                                </div>
                                                <div class="col-sm-5">
                                                    <input type="text" class="form-control" id="inputTax" placeholder="Tax" ng-model="article.ContactInfos[lang].Tax">
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </tab>

                            <tab heading="Images">
                                <br />
                                <div class="row">
                                    <div class="col-sm-4">
                                        <div class="form-horizontal">

                                            <div class="form-group" ng-controller="FileUploadController">
                                                <h4>Upload Images</h4>
                                                <div class="col-sm-12">

                                                    <input type="file" class="btn btn-default btn-file notextareamaxwitdth" style="width:100%" nv-file-select="" uploader="uploader" />
                                                    <div>
                                                        <div class="progress" style="height:100%">
                                                            <div class="progress-bar" role="progressbar" ng-style="{ 'width': uploader.progress + '%' }" style="width:60%"></div>

                                                            <div ng-repeat="item in uploader.queue">
                                                                <button type="button" class="btn btn-success btn-xs" ng-click="item.upload()" ng-disabled="item.isReady || item.isUploading || item.isSuccess">
                                                                    <span class="glyphicon glyphicon-upload"></span> Upload
                                                                </button>
                                                            </div>

                                                        </div>

                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <div class="col-sm-8">
                                        <div class="form-horizontal">

                                            <div class="form-group">
                                                <h4>Image Gallery <small>Title, Description, Copyright, License, Position, Active</small></h4>

                                                <div ng-repeat="smgbild in article.ImageGallery | orderBy: 'ListPosition'">
                                                    <div class="col-sm-2" style="text-align:right">
                                                        <img class="img-thumbnail" ng-src="{{ smgbild.ImageUrl + '&height=95'}}" style="max-height:100px;" />

                                                        <div class="pull-right" ng-controller="FileUploadControllerSingle" ng-init="init(smgbild.ImageUrl)">
                                                            <input type="file" class="btn btn-xs btn-default btn-file" style="width: 95px;" nv-file-select="" uploader="uploader" />
                                                            <button type="button" class="btn btn-xs btn-success" style="width: 95px;" ng-click="uploader.uploadAll()" ng-disabled="!uploader.getNotUploadedItems().length">
                                                                <span class="glyphicon glyphicon-upload"></span> Change
                                                            </button>
                                                        </div>

                                                    </div>
                                                    <div class="col-sm-10">
                                                        <div class="input-group">
                                                            <span class="input-group-btn" style="vertical-align:top;">
                                                                <button type="button" class="btn btn-default" ng-click="deletebild(smgbild.ImageName, smgbild.ImageUrl)"><i class="glyphicon glyphicon-minus"></i></button>
                                                            </span>
                                                            <div class="col-sm-12" style="padding-left:0px">
                                                                <input type="text" class="form-control notextareamaxwitdth" id="inputBildTitel" placeholder="Title" ng-model="smgbild.ImageTitle[lang]">
                                                            </div>
                                                            <div class="col-sm-12" style="padding-left:0px">
                                                                <textarea rows="2" class="form-control notextareamaxwitdth" id="inputBildBeschreibung" placeholder="Description" ng-model="smgbild.ImageDesc[lang]"></textarea>
                                                            </div>
                                                            <div class="col-sm-6" style="padding-left:0px">
                                                                <input type="text" class="form-control col-sm-8 notextareamaxwitdth" id="inputBildCopyright" placeholder="CopyRight" ng-model="smgbild.CopyRight">
                                                            </div>

                                                            <div class="col-sm-6" style="padding-left:0px">
                                                                <select class="form-control notextareamaxwitdth" id="selectImageLicenseType" ng-model="smgbild.License">
                                                                    <option value="" disabled>Select License</option>
                                                                    <option value="CC0">CC0</option>
                                                                    <option value="Proprietary">Proprietary</option>
                                                                </select>
                                                            </div>

                                                            <div class="col-sm-2" style="padding-left:0px">
                                                                <input type="number" class="form-control col-xs-2" id="inputBildListPosition" placeholder="Position" ng-model="smgbild.ListPosition">
                                                            </div>
                                                            <div class="col-sm-2" style="padding-left:0px">
                                                                <input type="checkbox" class="smallcheckbox col-sm" id="checkboxActive" ng-model="smgbild.IsInGallery">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </tab>

                            <tab heading="Additional">
                                <br />
                                <div class="row">
                                    <div class="col-sm-4">
                                        <div class="form-horizontal">

                                            <div class="input-group">

                                                <input type="text" class="form-control notextareamaxwitdth" id="inputadditionalPropertyheader" ng-model="additional.header" />

                                                <span class="input-group-btn" style="vertical-align:top">
                                                    <button type="button" class="btn btn-default" value="+" ng-click="addaddtionalproperty(lang)"><i class="glyphicon glyphicon-plus"></i></button>
                                                </span>

                                            </div>

                                        </div>
                                    </div>

                                    <div class="col-sm-8">
                                        <div class="panel panel-default">

                                            <div class="panel-heading">
                                                Inserted Additional Infos
                                            </div>

                                            <div class="form-group panel-body">
                                                <div ng-repeat="(key, val) in article.AdditionalArticleInfos[lang].Elements" class="input-group">

                                                    <span class="input-group-btn" style="vertical-align:top">
                                                        <button type="button" class="btn btn-default" value="-" ng-click="removeaddtionalproperty(key, lang)"><i class="glyphicon glyphicon-minus"></i></button>
                                                    </span>

                                                    @*<label for="inputProperty" class="col-sm-2 control-label">{{key}}</label>*@
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputProperty" placeholder="Additionalinfo Header" ng-model="key" readonly />
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputProperty" placeholder="Additionalinfo Text" ng-model="article.AdditionalArticleInfos[lang].Elements[key]" />

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </tab>

                            <tab heading="Links">
                                <br />
                                <div class="row">
                                    <div class="col-sm-4">
                                        <div class="form-horizontal">

                                            <div class="input-group">

                                                <input type="text" class="form-control notextareamaxwitdth" id="inputLinkTitle" placeholder="Link Title" ng-model="link.header" />

                                                <span class="input-group-btn" style="vertical-align:top">
                                                    <button type="button" class="btn btn-default" value="+" ng-click="addlinkproperty(lang)"><i class="glyphicon glyphicon-plus"></i></button>
                                                </span>

                                            </div>

                                        </div>
                                    </div>

                                    <div class="col-sm-8">
                                        <div class="panel panel-default">

                                            <div class="panel-heading">
                                                Inserted Link Infos
                                            </div>

                                            <div class="form-group panel-body">
                                                <div ng-repeat="(key, val) in article.ArticleLinkInfo[lang].Elements" class="input-group">

                                                    <span class="input-group-btn" style="vertical-align:top">
                                                        <button type="button" class="btn btn-default" value="-" ng-click="removelinkproperty(key, lang)"><i class="glyphicon glyphicon-minus"></i></button>
                                                    </span>

                                                    @*<label for="inputProperty" class="col-sm-2 control-label">{{key}}</label>*@
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputProperty" placeholder="LinkName" ng-model="key" readonly />
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputProperty" placeholder="LinkURL" ng-model="article.ArticleLinkInfo[lang].Elements[key]" />

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </tab>

                            <tab heading="ODH Tags">
                                <br />
                                <div class="row">
                                    <div class="col-sm-4">
                                        <div class="form-horizontal">


                                            <div class="input-group">
                                                <div ng-controller="SmgTagNameModalTypeAheadController">
                                                    <typeaheadarticle items="items" templateurl="ArticleNameTemplate" prompt="Name" title="name" model="smgtag.smgtagname" idmodel="smgtag.smgtagid" on-select="onItemSelected()" />
                                                </div>
                                                <span class="input-group-btn" style="vertical-align:top">
                                                    <button type="button" class="btn btn-default" value="+" ng-click="addtag()"><i class="glyphicon glyphicon-plus"></i></button>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-8">
                                        <div class="panel panel-default">

                                            <div class="panel-heading">
                                                Inserted ODH Tags
                                            </div>
                                            <div class="form-group panel-body">
                                                <div class="input-group" ng-repeat="tag in article.SmgTags">
                                                    <span class="input-group-btn">
                                                        <button type="button" class="btn btn-default" ng-click="deletetag(tag)"><i class="glyphicon glyphicon-minus"></i></button>
                                                    </span>
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputTagsingle" placeholder="Tag" ng-model="tag" readonly>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                </div>
                            </tab>
                            
                            <tab heading="License">
                                <br />
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="form-horizontal">

                                            <div class="form-group">
                                                <label for="inputMetaLicense" class="col-sm-2 control-label">License</label>
                                                <div class="col-sm-10">
                                                    <select class="form-control" id="selectSource" ng-model="article.LicenseInfo.License">
                                                        <option>CC0</option>
                                                        <option>CC-BY</option>
                                                        <option>Closed</option>
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="inputMetaLicenseHolder" class="col-sm-2 control-label">License Holder</label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputMetaLicenseHolder" placeholder="LicenseHolder" ng-model="article.LicenseInfo.LicenseHolder">
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="form-horizontal">

                                            <div class="form-group">
                                                <label for="inputMetaAuthor" class="col-sm-2 control-label">Author</label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputMetaAuthor" placeholder="Author" ng-model="article.LicenseInfo.Author">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="checkboxMetaClosed" class="col-sm-2 control-label">Closed Data</label>
                                                <div class="col-sm-10">
                                                    <input type="checkbox" class="smallcheckbox" id="checkboxMetaClosed" ng-model="article.LicenseInfo.ClosedData" readonly>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </tab>


                        </tabset>

                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" ng-click="addarticle(article,articleform.$valid)" ng-show="newarticle">Create</button>
                <button class="btn btn-primary" ng-click="updatearticle(article,articleform.$valid)" ng-show="!newarticle">Save</button>
                <button class="btn btn-info" ng-click="cancel()">Cancel</button>
            </div>
        </form>
    </script>

    <script type="text/ng-template" id="myArticleInfoModal.html">
        <div class="modal-header">
            <button type="button" class="close" ng-click="cancelslidemodal()" aria-hidden="true">&times;</button>
            <h4 class="modal-title" id="myModalLabel">Recipe Info</h4>
        </div>
        <div class="modal-body">
            <div class="row">
                <div class="col-sm-12">
                    <div>
                        <carousel interval="myInterval">
                            <slide data-ng-repeat="slide in slides" active="slide.active">
                                <img data-ng-src="{{slide.ImageUrl + '&Height=320'}}" style="margin:auto;max-width:800px" class="img-rounded">
                                <div class="carousel-caption">
                                    <h5>{{slide.ImageTitle[lang]}}</h5>
                                    <small>{{slide.ImageDesc[lang]}}</small>
                                </div>
                            </slide>
                        </carousel>
                    </div>
                </div>

            </div>
            <div class="row">
                <div class="col-sm-12">

                    <br />
                    <h3>{{ article.Detail[lang].Title }}</h3>

                    <h4>{{ article.ArticleDate  | moment:'DD/MM/YYYY' }} - {{ article.ArticleDateTo  | moment:'DD/MM/YYYY' }}</h4>

                    <p ng-show="article.Detail[lang].IntroText != '' && article.Detail[lang].IntroText != null">
                        <strong>Introtext</strong><br />              
                    </p>
                    <p ng-bind-html="article.Detail[lang].IntroText"></p>

                    <p ng-show="article.Detail[lang].BaseText != ''">
                        <strong>Text</strong>
                    </p>
                    <p ng-bind-html="article.Detail[lang].BaseText"></p>



                </div>
            </div>

            @*Contactinfos*@
            <div class="row">
                <div class="col-sm-12" ng-repeat="(key, val) in article.AdditionalArticleInfos[lang].Elements">

                    <p ng-show="key != ''">
                        <strong>{{key}}</strong>
                    </p>
                    <p ng-bind-html="val"></p>
                </div>
            </div>
             <div class="row">
                <div class="col-sm-12" ng-repeat="(key, val) in article.ArticleLinkInfo[lang].Elements">

                    <p ng-show="key != ''">
                        <strong>{{key}}</strong>
                    </p>
                    <p ng-bind-html="val"></p>
                </div>
            </div>
        </div>


        <div class="modal-footer">
            <button class="btn btn-info" ng-click="cancelslidemodal()">Cancel</button>
        </div>
    </script>
</div>

@section Styles{
    <link rel="stylesheet" type="text/css" href="~/Content/textAngular.css">
}


@section Scripts {
    @*<script src='//maps.googleapis.com/maps/api/js?sensor=false'></script>*@
    @*<script src="~/NgScripts/appfactory.js"></script>*@
    <script src="~/NgScripts/appconfig.js"></script>
    <script src="~/NgScripts/ArticleController.js?version=20191119"></script>
    @*<script src="~/Scripts/file-Upload/angular-file-upload.min.js"></script>
        <script src="~/Scripts/angular-sanitize.min.js"></script>
        <script src="~/Scripts/angular-route.min.js"></script>*@

}
