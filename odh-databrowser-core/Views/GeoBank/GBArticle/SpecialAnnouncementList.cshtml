
@{
    ViewBag.Title = "SpecialAnnouncementArticleList";
}
@section jumbotronsect {
    <h2>SpecialAnnouncement Article List</h2>
}
@section infomodaltext {
    <h2>Open Data Hub Article</h2>
    <p>
        Data from IDM Redaction.
    </p>
}
<div class="col-sm-12" ng-app="article" ng-controller="articleListController" ng-init="init('specialannouncement','false')">

    <div class="splash" ng-show="isloading">
        <h2>
            Loading
        </h2>
        <span>
            <i class="fa fa-spinner fa-5x fa-spin active"></i>
        </span>
    </div>

    <div class="row">
        <div class="col-sm-12">
            <div class="form-inline">
                <div class="pull-left">

                </div>
                <div class="pull-right">
                    <div class="btn-group">
                        <label class="btn btn-default" ng-model="lang" btn-radio="'de'" ng-click="changeLanguage('de')">de</label>
                        <label class="btn btn-default" ng-model="lang" btn-radio="'it'" ng-click="changeLanguage('it')">it</label>
                        <label class="btn btn-default" ng-model="lang" btn-radio="'en'" ng-click="changeLanguage('en')">en</label>
                        <label class="btn btn-default" ng-model="lang" btn-radio="'nl'" ng-click="changeLanguage('nl')">nl</label>
                        <label class="btn btn-default" ng-model="lang" btn-radio="'cs'" ng-click="changeLanguage('cs')">cs</label>
                        <label class="btn btn-default" ng-model="lang" btn-radio="'pl'" ng-click="changeLanguage('pl')">pl</label>
                        <label class="btn btn-default" ng-model="lang" btn-radio="'fr'" ng-click="changeLanguage('fr')">fr</label>
                        <label class="btn btn-default" ng-model="lang" btn-radio="'ru'" ng-click="changeLanguage('ru')">ru</label>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12">
            <br />
            <div class="form-inline">
                <div class="pull-right">
                    <span class="btn btn-default"> Elements: {{ totalcount }} </span>
                    <input type="button" id="prevpage" ng-click="changePage(-1)" class="btn btn-info" value="prev" ng-disabled="page == 1" />
                    &nbsp;{{ page }}&nbsp;/&nbsp;{{ totalpages }}&nbsp;
                    <input type="button" id="nextpage" ng-click="changePage(+1)" class="btn btn-info" value="next" ng-disabled="page == totalpages" />
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <br />
        <div class="col-sm-3 col-xs-12 table-bordered filtertable">
            <div class="form-inline">
                <br />
                <div class="form-group col-sm-12">
                    <input type="button" id="filterbutton" ng-click="applyFilter(1)" class="btn btn-info" value="Filter" />
                    <input type="button" id="clearfilterbutton" ng-click="clearFilter()" class="btn btn-default" value="Clear" />
                </div>


                <div class="form-group col-sm-12" ng-controller="ArticleNameTypeAheadController">
                    <h6>Name</h6>
                    <typeaheadarticle items="items" templateurl="ArticleNameTemplate" prompt="Name" title="name" model="$parent.SelectedArticleName" idmodel="$parent.SelectedArticleId" on-select="onItemSelected()" />
                </div>

                <div class="form-group col-sm-12" ng-controller="SmgTagNameTypeAheadController">
                    <h6>ODH Tag</h6>
                    <typeaheadarticle items="items" templateurl="ArticleNameTemplate" prompt="Name" title="name" model="$parent.SelectedSmgTagName" idmodel="$parent.SelectedSmgTagId" on-select="onItemSelected()" />
                </div>

                @*<div class="form-group col-sm-12">
                    <h6>SubType</h6>
                    <div class="btn-group-vertical">
                        <label class="btn btn-default" ng-model="checkSubTypeModel.one" btn-checkbox>Genussbotschafter</label>
                        <label class="btn btn-default" ng-model="checkSubTypeModel.two" btn-checkbox>Hersteller</label>                      
                    </div>
                </div>*@

                <div class="form-group col-sm-12">
                    <h6>Language Filter</h6>
                    <div class="btn-group">
                        <label class="btn btn-default" ng-model="checkLangListModel.de" btn-checkbox>de</label>
                        <label class="btn btn-default" ng-model="checkLangListModel.it" btn-checkbox>it</label>
                        <label class="btn btn-default" ng-model="checkLangListModel.en" btn-checkbox>en</label>
                        <label class="btn btn-default" ng-model="checkLangListModel.nl" btn-checkbox>nl</label>
                        <label class="btn btn-default" ng-model="checkLangListModel.cs" btn-checkbox>cs</label>
                        <label class="btn btn-default" ng-model="checkLangListModel.pl" btn-checkbox>pl</label>
                        <label class="btn btn-default" ng-model="checkLangListModel.fr" btn-checkbox>fr</label>
                        <label class="btn btn-default" ng-model="checkLangListModel.ru" btn-checkbox>ru</label>
                    </div>
                </div>

                @*<div class="form-group col-sm-12">
                    <h6>Active</h6>
                    <select class="form-control" id="selectTyp" ng-model="active">
                        <option value="null">all</option>
                        <option value="true">active</option>
                        <option value="false">not active</option>
                    </select>
                </div>*@

                <div class="form-group col-sm-12">
                    <h6>ODH Active</h6>
                    <select class="form-control" id="selectTyp" ng-model="smgactive">
                        <option value="null">all</option>
                        <option value="true">active</option>
                        <option value="false">not active</option>
                    </select>
                </div>

                    <div class="form-group col-sm-12">
                        <h6>PublishedOn<small class="btn-link pull-right" ng-click="clearPublishedOnFilter()">Clear</small></h6>
                        <input type="text" class="form-control" id="publishchannelfilter" list="publishedonitems" placeholder="Publishedon Key" ng-model="publishchannelfilter" />

                    </div>


                <div class="col-sm-12">
                    <br />
                    <br />
                </div>


            </div>

        </div>

        <div class="col-sm-9 col-xs-12 table-responsive">

            @*<div class="pull-left">
                    <a ng-click="editarticle('new')" class="btn btn-small btn-success">New</a>
                </div>
                <br />*@
            <table class="table table-striped table-condensed">
                <thead>
                    <tr>
                        <th style="width:160px">image</th>
                        <th style="min-width: 80px;">name</th>
                        <th style="min-width: 80px;">type</th>
                        <th style="min-width: 80px;">subtype</th>
                        <th style="min-width: 80px;">languages</th>
                        <th style="min-width: 80px;">active ODH</th>
                        <th>published</th>
                        <th style="width:20px;"> </th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="article in articles | filter:query">
                        <td>
                            <div style="max-width:150px;min-height:75px">
                                <img class="img-thumbnail img-responsive" @*style="max-height:150px;max-width:150px"*@ ng-src="{{  article.ImageGallery[0] != NULL && article.ImageGallery[0].ImageUrl + '&Width=150' || '../img/noimage.png' }}" @*ng-hide="article.ImageGallery[0] == NULL"*@ title="{{ article.ImageGallery[0].ImageDesc['de']}}" ng-click="showInfoModal(article)" />
                            </div>
                        </td>
                        @*<td>{{ article.Id }}</td>*@
                        <td>{{ article.Detail[lang].Title }}</td>
                        <td>{{ article.Type }}</td>
                        <td>{{ article.SubType }}</td>
                        <td>
                            <div ng-repeat="articlelang in article.HasLanguage">
                                {{ articlelang }}
                            </div>
                        </td>
                        <td>
                            @*<div class="glyphicon glyphicon-ok" ng-show="article.Active"></div>
                            <div class="glyphicon glyphicon-remove" ng-show="article.Active == false"></div>
                            &nbsp;*@
                            <div class="glyphicon glyphicon-ok" ng-show="article.SmgActive" style="color:green"></div>
                            <div class="glyphicon glyphicon-remove" ng-show="article.SmgActive == false" style="color:red"></div>
                        </td>
                            <td>
                                <div ng-repeat="publishchannel in article.PublishedOn">
                                    <small>{{ publishchannel }}</small>
                                </div>
                            </td>
                        <td class="btn-group-vertical">
                            @if (@ViewBag.globalmodify == true || @ViewBag.articlemodify == true || @ViewBag.globaldetail == true)
                            {
                                <a ng-click="editarticle(article)" class="btn btn-responsive btn-default" style="width:70px;">edit</a>
                            }
                            @if (@ViewBag.globaldelete == true || @ViewBag.articledelete == true)
                            {
                                <a ng-click="deletearticle(article.Id)" class="btn btn-responsive btn-primary" style="width:70px;">delete</a>
                            }
                            <a ng-click="showInfoModal(article)" class="btn btn-responsive btn-success" style="width:70px;">Detail</a>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="form-inline">
                <div class="pull-left">
                    @if (@ViewBag.globalcreate == true || @ViewBag.articlecreate == true)
                    {
                        <a ng-click="editarticle('new')" class="btn btn-small btn-info">New</a>
                    }
                </div>
                <div class="pull-right">
                    <span class="btn btn-default"> Elements: {{ totalcount }} </span>
                    <input type="button" id="prevpage" ng-click="changePage(-1)" class="btn btn-info" value="prev" ng-disabled="page == 1" />
                    &nbsp;{{ page }}&nbsp;/&nbsp;{{ totalpages }}&nbsp;
                    <input type="button" id="nextpage" ng-click="changePage(+1)" class="btn btn-info" value="next" ng-disabled="page == totalpages" />
                </div>
            </div>
        </div>
    </div>
    <script type="text/ng-template" id="myArticleModal.html">
        <form name="articleform">
            <div class="modal-header">
                <button type="button" class="close" ng-click="cancel()" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">Article Details</h4>
            </div>
            <div class="modal-body">

                <div class="row">
                    <div class="col-sm-12">
                        <div class="btn-group pull-left">
                            <p>
                                Available Languages:
                                <label class="badge" ng-repeat="articlelang in article.HasLanguage">{{articlelang}}</label>
                            </p>
                        </div>

                        <div class="btn-group pull-right">
                            <label class="btn btn-default" ng-model="lang" btn-radio="'de'">de</label>
                            <label class="btn btn-default" ng-model="lang" btn-radio="'it'">it</label>
                            <label class="btn btn-default" ng-model="lang" btn-radio="'en'">en</label>
                            <label class="btn btn-default" ng-model="lang" btn-radio="'nl'">nl</label>
                            <label class="btn btn-default" ng-model="lang" btn-radio="'cs'">cs</label>
                            <label class="btn btn-default" ng-model="lang" btn-radio="'pl'">pl</label>
                            <label class="btn btn-default" ng-model="lang" btn-radio="'fr'">fr</label>
                            <label class="btn btn-default" ng-model="lang" btn-radio="'ru'">ru</label>
                        </div>
                    </div>
                </div>
                <hr />
                <div class="row">
                    <div class="col-sm-12">

                        <tabset>

                            <tab heading="General">
                                <br />
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="form-horizontal">
                                            <div class="form-group">
                                                <label for="inputId" class="col-sm-2 control-label">Id</label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputId" placeholder="Id" ng-model="article.Id" readonly>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="inputTyp" class="col-sm-2 control-label">Type</label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputTyp" placeholder="Type" ng-model="article.Type" readonly>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="inputShortName" class="col-sm-2 control-label">Shortname</label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputShortName" placeholder="Shortname" ng-model="article.Shortname">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="inputName" class="col-sm-2 control-label">Last Changed</label>
                                                <div class="col-sm-10">
                                                    <div class="form-control">{{ article.LastChange | moment:'DD-MM-YYYY HH:mm' }}</div>
                                                </div>
                                            </div>

                                            @*<div class="form-group">
                                                <label for="inputName" class="col-sm-2 control-label">Expiration Date</label>
                                                <div class="col-sm-10">
                                                    <div class="form-control">{{ article.LastChange | moment:'DD-MM-YYYY HH:mm' }}</div>
                                                </div>
                                            </div>*@

                                        </div>
                                    </div>

                                    <div class="col-sm-6">
                                        <div class="form-horizontal">
                                           
                                            <div class="form-group">
                                                <label for="inputHighlight" class="col-sm-2 control-label">Highlight</label>
                                                <div class="col-sm-10">
                                                    <input type="checkbox" class="form-control" id="inputHighlight" placeholder="Highlight" ng-model="article.Highlight">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="inputActive" class="col-sm-2 control-label">Active</label>
                                                <div class="col-sm-10">
                                                    <input type="checkbox" class="form-control" id="inputActive" placeholder="Id" ng-model="article.Active">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="inputSmgActive" class="col-sm-2 control-label">ODH Active</label>
                                                <div class="col-sm-10">
                                                    <input type="checkbox" class="form-control" id="inputSmgActive" placeholder="Id" ng-model="article.SmgActive">
                                                </div>
                                            </div>

                                        </div>
                                    </div>

                                </div>
                            </tab>
                            
                            <tab heading="License">
                                <br />
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="form-horizontal">

                                            <div class="form-group">
                                                <label for="inputMetaLicense" class="col-sm-2 control-label">License</label>
                                                <div class="col-sm-10">
                                                    <select class="form-control" id="selectSource" ng-model="article.LicenseInfo.License">
                                                        <option>CC0</option>
                                                        <option>CC-BY</option>
                                                        <option>Closed</option>
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="inputMetaLicenseHolder" class="col-sm-2 control-label">License Holder</label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputMetaLicenseHolder" placeholder="LicenseHolder" ng-model="article.LicenseInfo.LicenseHolder">
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="form-horizontal">

                                            <div class="form-group">
                                                <label for="inputMetaAuthor" class="col-sm-2 control-label">Author</label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputMetaAuthor" placeholder="Author" ng-model="article.LicenseInfo.Author">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="checkboxMetaClosed" class="col-sm-2 control-label">Closed Data</label>
                                                <div class="col-sm-10">
                                                    <input type="checkbox" class="smallcheckbox" id="checkboxMetaClosed" ng-model="article.LicenseInfo.ClosedData" readonly>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="checkboxMetaClosed" class="col-sm-2 control-label">Reduced Data</label>
                                                <div class="col-sm-10">
                                                    <input type="checkbox" class="smallcheckbox" id="checkboxMetaClosed" ng-model="article._Meta.Reduced" readonly>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </tab>
                    
                            <tab heading="Detail">
                                <br />
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="form-horizontal">

                                            <div class="form-group">
                                                <label for="inputTitle" class="col-sm-2 control-label">Title</label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputTitle" placeholder="Title" ng-model="article.Detail[lang].Title">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="inputHeader" class="col-sm-2 control-label">Header</label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputHeader" placeholder="Header" ng-model="article.Detail[lang].Header">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="inputSubHeader" class="col-sm-2 control-label">SubHeader</label>
                                                <div class="col-sm-10">
                                                    <textarea class="form-control notextareamaxwitdth" id="inputSubHeader" rows="2" placeholder="SubHeader" ng-model="article.Detail[lang].SubHeader"></textarea>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="inputMetaTitle" class="col-sm-2 control-label">Meta Title</label>
                                                <div class="col-sm-10">
                                                    <textarea class="form-control notextareamaxwitdth" id="inputMetaTitle" rows="2" placeholder="Meta Title" ng-model="article.Detail[lang].MetaTitle"></textarea>
                                                </div>
                                            </div>


                                            @*<div class="form-group">
                            <label for="inputIntroText" class="col-sm-2 control-label">Intro Text</label>
                            <div class="col-sm-10">
                                <textarea rows="4" type="text" class="form-control notextareamaxwitdth" id="inputIntroText" placeholder="IntroText" ng-model="article.Detail[lang].IntroText"></textarea>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="inputAlttext" class="col-sm-2 control-label">Alt text</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control notextareamaxwitdth" id="inputAlttext" placeholder="Alttext" ng-model="article.Detail[lang].Alttext">
                            </div>
                        </div>*@



                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="form-horizontal">


                                            <div class="form-group">
                                                <label for="inputAdditionalText" class="col-sm-2 control-label">AdditionalText</label>
                                                <div class="col-sm-10">
                                                    <textarea class="form-control notextareamaxwitdth" id="inputAdditionalText" placeholder="AdditionalText" rows="3" ng-model="article.Detail[lang].AdditionalText"></textarea>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="inputKeywords" class="col-sm-2 control-label">Keywords</label>
                                                <div class="col-sm-10">
                                                    <textarea class="form-control notextareamaxwitdth" id="inputKeywords" rows="3" placeholder="Keywords" ng-model="article.Detail[lang].Keywords"></textarea>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="inputAdditionalText" class="col-sm-2 control-label">Meta Description</label>
                                                <div class="col-sm-10">
                                                    <textarea class="form-control notextareamaxwitdth" id="inputAdditionalText" placeholder="Meta Description" rows="3" ng-model="article.Detail[lang].MetaDesc"></textarea>
                                                </div>
                                            </div>



                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-6">

                                        <div class="form-horizontal">
                                            <div class="form-group">
                                                <label for="inputBaseText" class="col-sm-2 control-label">Introtext</label>


                                                <div ng-controller="wysiwygeditorCtrl" class="col-sm-10">

                                                    <text-angular name="htmlcontentintro" ng-model="article.Detail[lang].IntroText">

                                                    </text-angular>


                                                </div>
                                            </div>
                                        </div>

                                    </div>

                                    <div class="col-sm-6">

                                        <div class="form-horizontal">
                                            <div class="form-group">
                                                <label for="inputBaseText" class="col-sm-2 control-label">Base Text</label>


                                                <div ng-controller="wysiwygeditorCtrl" class="col-sm-10">

                                                    <text-angular name="htmlcontentbase" ng-model="article.Detail[lang].BaseText">

                                                    </text-angular>


                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </tab>

                            <tab heading="Contact">
                                <br />
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="form-horizontal">

                                            <div class="form-group">
                                                <label for="inputCompanyName" class="col-sm-2 control-label">Name</label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputCompanyName" placeholder="CompanyName" ng-model="article.ContactInfos[lang].CompanyName">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="inputAddress" class="col-sm-2 control-label">Address</label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputAddress" placeholder="Address" ng-model="article.ContactInfos[lang].Address">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="inputCity" class="col-sm-2 control-label">City</label>
                                                <div class="col-sm-4">
                                                    <input type="text" class="form-control" id="inputZipCode" placeholder="ZipCode" ng-model="article.ContactInfos[lang].ZipCode">
                                                </div>
                                                <div class="col-sm-6">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputCity" placeholder="City" ng-model="article.ContactInfos[lang].City">

                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="inputCountryName" class="col-sm-2 control-label">Country</label>
                                                <div class="col-sm-4">
                                                    <input type="text" class="form-control" id="inputCountryCode" placeholder="CountryCode" ng-model="article.ContactInfos[lang].CountryCode">
                                                </div>
                                                <div class="col-sm-6">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputCountryName" placeholder="CountryName" ng-model="article.ContactInfos[lang].CountryName">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="inputGivenname" class="col-sm-2 control-label">Name</label>
                                                <div class="col-sm-2">
                                                    <input type="text" class="form-control" id="inputNamePrefix" placeholder="Prefix" ng-model="article.ContactInfos[lang].NamePrefix">
                                                </div>
                                                <div class="col-sm-4">
                                                    <input type="text" class="form-control" id="inputSurname" placeholder="Surname" ng-model="article.ContactInfos[lang].Surname">
                                                </div>
                                                <div class="col-sm-4">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputGivenname" placeholder="Givenname" ng-model="article.ContactInfos[lang].Givenname">
                                                </div>
                                            </div>

                                        </div>
                                    </div>

                                    <div class="col-sm-6">
                                        <div class="form-horizontal">

                                            <div class="form-group">
                                                <label for="inputEmail" class="col-sm-2 control-label">E-Mail</label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputEmail" placeholder="Email" ng-model="article.ContactInfos[lang].Email">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="inputPhonenumber" class="col-sm-2 control-label">Phonenumber</label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputPhonenumber" placeholder="Phonenumber" ng-model="article.ContactInfos[lang].Phonenumber">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="inputFaxnumber" class="col-sm-2 control-label">Faxnumber</label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputFaxnumber" placeholder="Faxnumber" ng-model="article.ContactInfos[lang].Faxnumber">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="inputUrl" class="col-sm-2 control-label">Url</label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputUrl" placeholder="Url" ng-model="article.ContactInfos[lang].Url">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="inputVat" class="col-sm-2 control-label">Vat / Tax</label>
                                                <div class="col-sm-5">
                                                    <input type="text" class="form-control" id="inputVat" placeholder="Vat" ng-model="article.ContactInfos[lang].Vat">
                                                </div>
                                                <div class="col-sm-5">
                                                    <input type="text" class="form-control" id="inputTax" placeholder="Tax" ng-model="article.ContactInfos[lang].Tax">
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </tab>

                            <tab heading="Images">
                                <br />
                                <div class="row">
                                    <div class="col-sm-4">
                                        <div class="form-horizontal">

                                            <div class="form-group" ng-controller="FileUploadController">
                                                <h4>Upload Images</h4>
                                                <div class="col-sm-12">

                                                    <input type="file" class="btn btn-default btn-file notextareamaxwitdth" style="width:100%" nv-file-select="" uploader="uploader" />
                                                    <div>
                                                        <div class="progress" style="height:100%">
                                                            <div class="progress-bar" role="progressbar" ng-style="{ 'width': uploader.progress + '%' }" style="width:60%"></div>

                                                            <div ng-repeat="item in uploader.queue">
                                                                <button type="button" class="btn btn-success btn-xs" ng-click="item.upload()" ng-disabled="item.isReady || item.isUploading || item.isSuccess">
                                                                    <span class="glyphicon glyphicon-upload"></span> Upload
                                                                </button>
                                                            </div>

                                                        </div>

                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <div class="col-sm-8">
                                        <div class="form-horizontal">

                                            <div class="form-group">
                                                <h4>Image Gallery <small>Title, Description, Copyright, License, Position, Active</small></h4>

                                                <div ng-repeat="smgbild in article.ImageGallery | orderBy: 'ListPosition'">
                                                    <div class="col-sm-2" style="text-align:right">
                                                        <img class="img-thumbnail" ng-src="{{ smgbild.ImageUrl + '&height=95'}}" style="max-height:100px;" />

                                                        <div class="pull-right" ng-controller="FileUploadControllerSingle" ng-init="init(smgbild.ImageUrl)">
                                                            <input type="file" class="btn btn-xs btn-default btn-file" style="width: 95px;" nv-file-select="" uploader="uploader" />
                                                            <button type="button" class="btn btn-xs btn-success" style="width: 95px;" ng-click="uploader.uploadAll()" ng-disabled="!uploader.getNotUploadedItems().length">
                                                                <span class="glyphicon glyphicon-upload"></span> Change
                                                            </button>
                                                        </div>

                                                    </div>
                                                    <div class="col-sm-10">
                                                        <div class="input-group">
                                                            <span class="input-group-btn" style="vertical-align:top;">
                                                                <button type="button" class="btn btn-default" ng-click="deletebild(smgbild.ImageName, smgbild.ImageUrl)"><i class="glyphicon glyphicon-minus"></i></button>
                                                            </span>
                                                            <div class="col-sm-12" style="padding-left:0px">
                                                                <input type="text" class="form-control notextareamaxwitdth" id="inputBildTitel" placeholder="Title" ng-model="smgbild.ImageTitle[lang]">
                                                            </div>
                                                            <div class="col-sm-12" style="padding-left:0px">
                                                                <textarea rows="2" class="form-control notextareamaxwitdth" id="inputBildBeschreibung" placeholder="Description" ng-model="smgbild.ImageDesc[lang]"></textarea>
                                                            </div>
                                                            <div class="col-sm-6" style="padding-left:0px">
                                                                <input type="text" class="form-control col-sm-8 notextareamaxwitdth" id="inputBildCopyright" placeholder="CopyRight" ng-model="smgbild.CopyRight">
                                                            </div>

                                                            <div class="col-sm-6" style="padding-left:0px">
                                                                <select class="form-control notextareamaxwitdth" id="selectImageLicenseType" ng-model="smgbild.License">
                                                                    <option value="" disabled>Select License</option>
                                                                    <option value="CC0">CC0</option>
                                                                    <option value="Proprietary">Proprietary</option>
                                                                </select>
                                                            </div>

                                                            <div class="col-sm-2" style="padding-left:0px">
                                                                <input type="number" class="form-control col-xs-2" id="inputBildListPosition" placeholder="Position" ng-model="smgbild.ListPosition">
                                                            </div>
                                                            <div class="col-sm-2" style="padding-left:0px">
                                                                <input type="checkbox" class="smallcheckbox col-sm" id="checkboxActive" ng-model="smgbild.IsInGallery">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </tab>

                            <tab heading="Additional">
                                <br />
                                <div class="row">
                                    <div class="col-sm-4">
                                        <div class="form-horizontal">

                                            <div class="input-group">

                                                @*<input type="text" class="form-control notextareamaxwitdth" id="inputadditionalPropertyheader" ng-model="additional.header" />*@

                                                <div class="btn-group-vertical">
                                                    <label class="btn btn-default" ng-model="additional.header" btn-radio="'diseasePreventionInfo'">DiseasePreventionInfo (URL)</label>
                                                    <label class="btn btn-default" ng-model="additional.header" btn-radio="'diseaseSpreadStatistics'">DiseaseSpreadStatistics (URL)</label>
                                                    <label class="btn btn-default" ng-model="additional.header" btn-radio="'gettingTestedInfo'">GettingTestedInfo (URL)</label>
                                                    <label class="btn btn-default" ng-model="additional.header" btn-radio="'newsUpdatesAndGuidelines'">NewsUpdatesAndGuidelines (URL)</label>
                                                    <label class="btn btn-default" ng-model="additional.header" btn-radio="'publicTransportClosuresInfo'">PublicTransportClosuresInfo (URL)</label>
                                                    <label class="btn btn-default" ng-model="additional.header" btn-radio="'quarantineGuidelines'">QuarantineGuidelines (URL)</label>
                                                    <label class="btn btn-default" ng-model="additional.header" btn-radio="'schoolClosuresInfo'">SchoolClosuresInfo (URL)</label>
                                                    <label class="btn btn-default" ng-model="additional.header" btn-radio="'travelBans'">TravelBans (URL)</label>
                                                    <label class="btn btn-default" ng-model="additional.header" style="white-space: normal;" btn-radio="'dateposted'">DatePosted (Format yyyy-MM-dd) (overwrites lastchange)</label>
                                                    <label class="btn btn-default" ng-model="additional.header" btn-radio="'expires'">Expires (Format yyyy-MM-dd)</label>
                                                </div>

                                                <span class="input-group-btn" style="vertical-align:top">
                                                    <button type="button" class="btn btn-default" value="+" ng-click="addaddtionalproperty(lang)"><i class="glyphicon glyphicon-plus"></i></button>
                                                </span>

                                            </div>

                                        </div>
                                    </div>

                                    <div class="col-sm-8">
                                        <div class="panel panel-default">

                                            <div class="panel-heading">
                                                Inserted Additional Infos
                                            </div>

                                            <div class="form-group panel-body">
                                                <div ng-repeat="(key, val) in article.AdditionalArticleInfos[lang].Elements" class="input-group">

                                                    <span class="input-group-btn" style="vertical-align:top">
                                                        <button type="button" class="btn btn-default" value="-" ng-click="removeaddtionalproperty(key, lang)"><i class="glyphicon glyphicon-minus"></i></button>
                                                    </span>

                                                    @*<label for="inputProperty" class="col-sm-2 control-label">{{key}}</label>*@
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputProperty" placeholder="Additionalinfo Header" ng-model="key" readonly />
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputProperty" placeholder="Additionalinfo Text" ng-model="article.AdditionalArticleInfos[lang].Elements[key]" />

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </tab>

                            <tab heading="SpatialCoverage">
                                <br />
                                <div class="col-sm-4">
                                    <div class="form-horizontal">
                                        <div class="btn-group-vertical">
                                            <label class="btn btn-default" ng-model="spatialcoverage.SelectedLocationTyp" btn-radio="'southtyrol'">Südtirol - Alto Adige</label>                                           
                                        </div>

                                        <div class="form-group col-sm-12" ng-controller="LocationTypeAheadController">
                                            <typeaheadlocation items="locitems" templateurl="LocationNameTemplate" prompt="Location" title="name" subtitle="typ" model="spatialcoverage.SelectedLocationName" submodel="spatialcoverage.SelectedLocationTyp" idmodel="spatialcoverage.SelectedLocationId" on-select="onItemSelected()" />
                                        </div>

                                        <span class="input-group-btn" style="vertical-align:top">
                                            <button type="button" class="btn btn-default" value="+" ng-click="addtospatialconverage()"><i class="glyphicon glyphicon-plus"></i></button>
                                        </span>
                                    </div>
                                </div>

                                <div class="col-sm-8">
                                    <div class="panel panel-default">

                                        <div class="panel-heading">
                                            Inserted Spatial Coverages
                                        </div>

                                        <div class="form-group panel-body">
                                            <div ng-repeat="place in article.SpatialCoverage" class="input-group">

                                                <span class="input-group-btn" style="vertical-align:top">
                                                    <button type="button" class="btn btn-default" value="-" ng-click="removespacialcoverage(place)"><i class="glyphicon glyphicon-minus"></i></button>
                                                </span>

                                                <input type="text" class="form-control notextareamaxwitdth" id="inputPlaceName" placeholder="Additionalinfo Header" ng-model="place.Name[lang]" />
                                                <input type="text" class="form-control notextareamaxwitdth" id="inpuPlaceLatitutde" placeholder="Latitude" ng-model="place.GpsInfo.Latitude">
                                                <input type="text" class="form-control notextareamaxwitdth" id="inputPlaceLongitude" placeholder="Longitude" ng-model="place.GpsInfo.Longitude">

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </tab>

                            <tab heading="Links">
                                <br />
                                <div class="row">
                                    <div class="col-sm-4">
                                        <div class="form-horizontal">

                                            <div class="input-group">

                                                <input type="text" class="form-control notextareamaxwitdth" id="inputLinkTitle" placeholder="Link Title" ng-model="link.header" />

                                                <span class="input-group-btn" style="vertical-align:top">
                                                    <button type="button" class="btn btn-default" value="+" ng-click="addlinkproperty(lang)"><i class="glyphicon glyphicon-plus"></i></button>
                                                </span>

                                            </div>

                                        </div>
                                    </div>

                                    <div class="col-sm-8">
                                        <div class="panel panel-default">

                                            <div class="panel-heading">
                                                Inserted Link Infos
                                            </div>

                                            <div class="form-group panel-body">
                                                <div ng-repeat="(key, val) in article.ArticleLinkInfo[lang].Elements" class="input-group">

                                                    <span class="input-group-btn" style="vertical-align:top">
                                                        <button type="button" class="btn btn-default" value="-" ng-click="removelinkproperty(key, lang)"><i class="glyphicon glyphicon-minus"></i></button>
                                                    </span>

                                                    @*<label for="inputProperty" class="col-sm-2 control-label">{{key}}</label>*@
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputProperty" placeholder="LinkName" ng-model="key" readonly />
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputProperty" placeholder="LinkURL" ng-model="article.ArticleLinkInfo[lang].Elements[key]" />

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </tab>

                            <tab heading="ODH Tags">
                                <br />
                                <div class="row">
                                    <div class="col-sm-4">
                                        <div class="form-horizontal">


                                            <div class="input-group">
                                                <div ng-controller="SmgTagNameModalTypeAheadController">
                                                    <typeaheadarticle items="items" templateurl="ArticleNameTemplate" prompt="Name" title="name" model="smgtag.smgtagname" idmodel="smgtag.smgtagid" on-select="onItemSelected()" />
                                                </div>
                                                <span class="input-group-btn" style="vertical-align:top">
                                                    <button type="button" class="btn btn-default" value="+" ng-click="addtag()"><i class="glyphicon glyphicon-plus"></i></button>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-8">
                                        <div class="panel panel-default">

                                            <div class="panel-heading">
                                                Inserted Smg Tags
                                            </div>
                                            <div class="form-group panel-body">
                                                <div class="input-group" ng-repeat="tag in article.SmgTags">
                                                    <span class="input-group-btn">
                                                        <button type="button" class="btn btn-default" ng-click="deletetag(tag)"><i class="glyphicon glyphicon-minus"></i></button>
                                                    </span>
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputTagsingle" placeholder="Tag" ng-model="tag" readonly>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                </div>
                            </tab>

                             <tab heading="Mapping">
                        <br />
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <div class="col-sm-8" style="text-align:right;padding-left:0px;padding-right:0px;">
                                        <input type="text" class="form-control notextareamaxwitdth" id="inputNewMappingkey" placeholder="Mapping Key" ng-model="mappingproperty.Mappingkey">
                                        <input type="text" class="form-control notextareamaxwitdth" id="inputNewMappingproperty" placeholder="Mapping Property" ng-model="mappingproperty.Name">
                                        <input type="text" class="form-control notextareamaxwitdth" id="inputNewMappingvalue" placeholder="Mapping Value" ng-model="mappingproperty.Value">
                                    </div>
                                    <div class="col-sm-4" style="padding-left:0px;padding-right:0px;">
                                        <span class="input-group-btn" style="vertical-align:top">
                                            <button type="button" class="btn btn-default" value="+" ng-click="addmapping()"><i class="glyphicon glyphicon-plus"></i></button>
                                        </span>
                                    </div>
                                </div>
                                <div class="col-sm-12">&nbsp;</div>
                            </div>

                            <div class="col-sm-6">
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        Inserted Mappings
                                    </div>
                                    <div class="form-group panel-body">
                                        <div ng-repeat="(mappingkey,mappingvalue) in article.Mapping">

                                            <div class="col-sm-8" style="text-align:right;padding-left:0px;padding-right:0px;">
                                                <input type="text" class="form-control notextareamaxwitdth" id="inputMappingPropertykey" placeholder="Mapping Key" ng-model="mappingkey" readonly>
                                            </div>
                                            <div class="col-sm-4" style="padding-left:0px;padding-right:0px;">
                                                <div class="input-group">
                                                    <span class="input-group-btn" style="vertical-align:top;">
                                                        <button type="button" class="btn btn-default" ng-click="deletemapping('all', mappingkey)"><i class="glyphicon glyphicon-minus"></i></button>
                                                    </span>
                                                </div>
                                            </div>


                                            <div ng-repeat="(mappingpropkey, mappingpropvalue) in article.Mapping[mappingkey]">
                                                <div class="col-sm-8" style="text-align:right;padding-left:0px;padding-right:0px;">
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputMappingPropertykey" placeholder="Mapping Property" ng-model="mappingpropkey" readonly>
                                                    <input type="text" class="form-control notextareamaxwitdth" id="inputMappingPropertyvalue" placeholder="Mapping Value" ng-model="article.Mapping[mappingkey][mappingpropkey]">
                                                </div>
                                                <div class="col-sm-4" style="padding-left:0px;padding-right:0px;">
                                                    <div class="input-group">
                                                        <span class="input-group-btn" style="vertical-align:top;">
                                                            <button type="button" class="btn btn-default" ng-click="deletemapping(mappingpropkey, mappingkey)"><i class="glyphicon glyphicon-minus"></i></button>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </tab>

                            <tab heading="Publish">
                            <br />
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-horizontal">

                                        <label class="col-sm-4 control-label"></label>
                                        <div class="col-sm-8 input-group">
                                            <input type="text" class="form-control notextareamaxwitdth" id="inputLinkTitle" list="publishedonitems" placeholder="Publishedon Key" ng-model="publishchannel" />

                                            <span class="input-group-btn" style="vertical-align:top">
                                                <button type="button" class="btn btn-default" value="+" ng-click="addpublishedonchannel(publishchannel)"><i class="glyphicon glyphicon-plus"></i></button>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-horizontal">

                                        <div class="input-group" ng-repeat="publishchannel in article.PublishedOn">
                                            <span class="input-group-btn">
                                                <button type="button" class="btn btn-default" ng-click="deletepublishedonchannel(publishchannel)"><i class="glyphicon glyphicon-minus"></i></button>
                                            </span>
                                            <input type="text" class="form-control notextareamaxwitdth" id="inputPublishedonsingle" placeholder="Publishedon" ng-model="publishchannel" readonly>
                                        </div>

                                    </div>
                                </div>

                            </div>
                        </tab>


                        </tabset>

                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" ng-click="addarticle(article,articleform.$valid)" ng-show="newarticle">Create</button>
                <button class="btn btn-primary" ng-click="updatearticle(article,articleform.$valid)" ng-show="!newarticle">Save</button>
                <button class="btn btn-info" ng-click="cancel()">Cancel</button>
            </div>
        </form>
    </script>

    <script type="text/ng-template" id="myArticleInfoModal.html">
        <div class="modal-header">
            <button type="button" class="close" ng-click="cancelslidemodal()" aria-hidden="true">&times;</button>
            <h4 class="modal-title" id="myModalLabel">Recipe Info</h4>
        </div>
        <div class="modal-body">
            <div class="row">
                <div class="col-sm-12">
                    <div>
                        <carousel interval="myInterval">
                            <slide data-ng-repeat="slide in slides" active="slide.active">
                                <img data-ng-src="{{slide.ImageUrl + '&Height=320'}}" style="margin:auto;max-width:800px" class="img-rounded">
                                <div class="carousel-caption">
                                    <h5>{{slide.ImageTitle[lang]}}</h5>
                                    <small>{{slide.ImageDesc[lang]}}</small>
                                </div>
                            </slide>
                        </carousel>
                    </div>
                </div>

            </div>
            <div class="row">
                <div class="col-sm-12">

                    <br />
                    <h3>{{ article.Detail[lang].Title }}</h3>


                    <p ng-show="article.Detail[lang].IntroText != ''">
                        <strong>Introtext</strong><br />
                        @*{{ article.Detail[lang].IntroText }}*@
                    </p>
                    <p ng-bind-html="article.Detail[lang].IntroText"></p>

                    <p ng-show="article.Detail[lang].BaseText != ''">
                        <strong>Basistext</strong>
                    </p>
                    <p ng-bind-html="article.Detail[lang].BaseText"></p>


                    <p ng-show="article.Detail[lang].GetThereText != '' && article.Detail[lang].GetThereText != null">
                        <strong>Anfahrtstext</strong><br />
                        @*{{ article.Detail['de'].GetThereText }}*@
                    </p>
                    <p ng-bind-html="article.Detail[lang].GetThereText"></p>

                    <p ng-show="article.Detail[lang].AdditionalText != '' && article.Detail[lang].AdditionalText != null">
                        <strong>Zusatztext</strong><br />
                        @*{{ article.Detail['de'].AdditionalText }}*@
                    </p>
                    <p ng-bind-html="article.Detail[lang].AdditionalText"></p>

                </div>
            </div>

            @*Contactinfos*@
            <div class="row">
                <div class="col-sm-12" ng-repeat="(key, val) in article.AdditionalArticleInfos[lang].Elements">

                    <p ng-show="key != ''">
                        <strong>{{key}}</strong>
                    </p>
                    <p ng-bind-html="val"></p>
                </div>
            </div>
        </div>


        <div class="modal-footer">
            <button class="btn btn-info" ng-click="cancelslidemodal()">Cancel</button>
        </div>
    </script>
</div>

@section Styles{
    <link rel="stylesheet" type="text/css" href="~/Content/textAngular.css">
}


@section Scripts {
    @*<script src='//maps.googleapis.com/maps/api/js?sensor=false'></script>*@
    @*<script src="~/NgScripts/appfactory.js"></script>*@
    <script src="~/NgScripts/appconfig.js"></script>
    <script src="~/NgScripts/ArticleController.js?version=20220323"></script>
    @*<script src="~/Scripts/file-Upload/angular-file-upload.min.js"></script>
        <script src="~/Scripts/angular-sanitize.min.js"></script>
        <script src="~/Scripts/angular-route.min.js"></script>*@

}
